soong_config_module_type {
    name: "lights_cc_defaults",
    module_type: "cc_defaults",
    config_namespace: "lights",
    variables: ["lighttargets"],
    properties: ["shared_libs"],
}

soong_config_string_variable {
    name: "lighttargets",
    values: ["lightaidlV1platformtarget", "lightaidlV2target"],
}

lights_cc_defaults {
    name: "lights_defaults",
    soong_config_variables: {
        lighttargets: {
            lightaidlV1platformtarget: {
                 shared_libs: [
                       "android.hardware.light-V1-ndk_platform",
                  ],
            },
            lightaidlV2target: {
                 shared_libs: [
                       "android.hardware.light-V2-ndk",
                  ],
            },
        },
    },
}

cc_binary {
    name: "vendor.qti.hardware.lights.service",
    defaults: ["lights_defaults"],
    relative_install_path: "hw",
    init_rc: ["vendor.qti.hardware.lights.service.rc"],
    vintf_fragments: ["vendor.qti.hardware.lights.service.xml"],
    vendor: true,
    shared_libs: [
        "libbase",
        "liblog",
        "libhardware",
        "libbinder_ndk",
    ],
    srcs: [
        "Lights.cpp",
        "main.cpp",
    ],
}
